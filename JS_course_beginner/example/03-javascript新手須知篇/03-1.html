<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>程式的執行順序</title>
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/03-1.css">
</head>
<body>
  <img id="logo" src="../images/logo2.png" alt="">

  <!-- <script>
       // AJAX-Asynchronous JavaScript and XML
   
   function readData(){
    var xhttp = new XMLHttpRequest(); //要瀏覽器提供AJAX函示庫
  xhttp.onreadystatechange = function() { //如果資料回來送到FUNCTION
    if (this.readyState == 4 && this.status == 200) { //4=瀏覽器收到回來全部資料，200表示資料沒問題
     document.getElementById("demo").innerHTML = this.responseText; //回來資料放在responsText
    }
  };
  xhttp.open("GET", "news.txt", true); //參數1=資料型態，2=你跟server要的檔案，?(網頁黨需跟NEWS.txt同webserver-同源政策)
  xhttp.send(); //送出requset
   }
   </script>-->

<script>
        // AJAX-Asynchronous JavaScript and XML
    
    function readData(){
     var xhttp = new XMLHttpRequest(); //要瀏覽器提供AJAX函示庫
   xhttp.onreadystatechange = function() { //如果資料回來送到FUNCTION
     if (this.readyState == 4 && this.status == 200) { //4=瀏覽器收到回來全部資料，200表示資料沒問題
        text = this.responseText;
      document.getElementById("demo").innerHTML = text; //回來資料放在responsText

      console.log("字串長度"+text.length);
      console.log("字串長度"+text.indexOf("CNN"));
      console.log("字串長度"+text.indexOf("CNNN"));
      console.log("字串長度"+text.indexOf("CNN",13));
      console.log("字串長度"+text.indexOf("to"));

      //所有TO的位置
      begin_idx = text.indexOf("to");
      while (begin_idx != -1){
          console.log(begin_idx);
          begin_idx = text.indexOf("to",begin_idx + 1);
      }
      //取代字串
      console.log("將CN換成HELLO");
      consloe.log(text.replace("CNN","hello"));
      //不分大小寫
      console.log("將CN換成HELLO");
      consloe.log(text.replace(/CNN/i,"hello"));
      //全部取代
      console.log("將CN換成HELLO");
      consloe.log(text.replace(/CNN/g,"hello"));
      //TO 紅字
      text = text.replace(/to/g,"<span style="color:red">to</span>");
document.getElementById("demo").innerHTML = text;
//大寫
document.getElementById("demo").innerHTML = text.toUpperCase();
//小寫
document.getElementById("demo").innerHTML = text.toLowerCase();

console.log("============");
//子字串-substring(begin,end)
text = "hello world";
console.log(text.substring(3,6));
console.log(text.substring(3));

//子字串-substr(begin length)
console.log(text.substr(3,1))
//頭尾去空白 trim
text = "\n\n abcd@gmail.com \n";
console.log(text);
console.log(text.trim());
//字串分割(CSV ECEL檔案呈現網站)
text = "ab,cd,ef";
a = text.split(",");
console.log(a);
//起始字串
         }
   };
   xhttp.open("GET", "news.txt", true); //參數1=資料型態，2=你跟server要的檔案，?(網頁黨需跟NEWS.txt同webserver-同源政策)
   xhttp.send(); //送出requset
    }
    </script>
   <button onclick="readData()">按我</button>
   <div id="demo"></div>
</body>
</html>